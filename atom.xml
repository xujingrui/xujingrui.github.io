<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>My Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-12-27T13:27:18.360Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>XuJingRui</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>SaltStack自动化运维</title>
    <link href="http://yoursite.com/2017/12/27/saltstack/"/>
    <id>http://yoursite.com/2017/12/27/saltstack/</id>
    <published>2017-12-27T12:52:31.000Z</published>
    <updated>2017-12-27T13:27:18.360Z</updated>
    
    <content type="html"><![CDATA[<h2 id="SaltStack简介"><a href="#SaltStack简介" class="headerlink" title="SaltStack简介"></a>SaltStack简介</h2><p>SaltStack 是一种基于 C/S 架构的服务器基础架构集中化管理平台，管理端称为 Master，客户端称为 Minion。SaltStack 具备配置管理、远程执行、监控等功能，一般可以理解为是简化版的 Puppet 和加强版的 Func。SaltStack 本身是基于 Python 语言开发实现，结合了轻量级的消息队列软件 ZeroMQ 与 Python 第三方模块（Pyzmq、PyCrypto、Pyjinjia2、python-msgpack 和 PyYAML 等）构建。</p><p>通过部署 SaltStack 环境，运维人员可以在成千上万台服务器上做到批量执行命令，根据不同的业务特性进行配置集中化管理、分发文件、采集系统数据及软件包的安装与管理等。</p><p><strong>Saltstack架构</strong></p><p><img src="https://pic4.zhimg.com/50/v2-be4dc6dc81b7efa2668ce3b99be37e6d_hd.jpg" alt="aa"></p><p><strong>SaltStack 具有以下特性：</strong></p><ul><li>部署简单、方便</li><li>支持大部分UNIX/Linux及Windows环境</li><li>主从集中化管理</li><li>配置简单、功能强大、扩展性强</li><li>主控端（master）和被控端（minion）基于证书认证，安全可靠</li><li>支持API及自定义模块，可通过Python轻松扩展</li></ul><h2 id="SaltStack安装"><a href="#SaltStack安装" class="headerlink" title="SaltStack安装"></a>SaltStack安装</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install epel-release -y</span><br><span class="line">yum  install salt-master -y</span><br></pre></td></tr></table></figure><p><strong>master启动</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@Node1 ~]# /etc/init.d/salt-master start</span><br><span class="line">Starting salt-master daemon:                               [确定]</span><br><span class="line">[root@Node1 ~]# chkconfig salt-master on</span><br><span class="line">[root@Node1 ~]# chkconfig |grep salt-master</span><br><span class="line">salt-master    0:关闭1:关闭2:启用3:启用4:启用5:启用6:关闭</span><br><span class="line">[root@Node1 ~]# salt-master --version</span><br><span class="line">salt-master 2015.5.10 (Lithium)</span><br></pre></td></tr></table></figure></p><h3 id="minion安装"><a href="#minion安装" class="headerlink" title="minion安装"></a>minion安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum  install salt-minion -y</span><br></pre></td></tr></table></figure><p><strong>minion启动</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@Node1 ~]# sed -i &apos;s/#master: salt/master: 192.168.222.129/g&apos; /etc/salt/minion # 指定 master 的ip地址</span><br><span class="line">[root@Node1 ~]# /etc/init.d/salt-minion start</span><br><span class="line">Starting salt-minion daemon:                               [确定]</span><br><span class="line">[root@Node1 ~]# chkconfig salt-minion on</span><br><span class="line">[root@Node1 ~]# chkconfig |grep salt-minion</span><br><span class="line">salt-minion    0:关闭1:关闭2:启用3:启用4:启用5:启用6:关闭</span><br><span class="line">[root@Node1 ~]# salt-minion --version</span><br><span class="line">salt-minion 2015.5.10 (Lithium)</span><br></pre></td></tr></table></figure><h2 id="SaltStack使用"><a href="#SaltStack使用" class="headerlink" title="SaltStack使用"></a>SaltStack使用</h2><p>SaltStack证书管理</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">salt-key –L       #查看所有minion-key      </span><br><span class="line">salt-key –a       #接受某个minion-key      </span><br><span class="line">salt-key –A       #接受所有minion-key  </span><br><span class="line">salt-key –d       #删除某个minion-key  </span><br><span class="line">salt-key –D       #删除所有minion-key</span><br></pre></td></tr></table></figure><p><strong>SaltStack命令介绍:</strong></p><p>命令格式：salt [options] [arguments]</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">salt ‘*’ test.ping</span><br></pre></td></tr></table></figure><p><strong>SaltStack minion匹配方式</strong></p><ul><li>Glob（salt默认的target类型，使用shell的通配符来指定一个或多个Minion ID）</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">salt &quot;*&quot; test.ping 或 salt ‘*’ test.ping</span><br></pre></td></tr></table></figure><ul><li>pcre兼容正则表达式</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">salt –E ‘^[m|M]in.[e|o|u]n$’ test.ping</span><br></pre></td></tr></table></figure><ul><li>Subnet(通过指定一个IPv4地址或一个CIDR的IPv4子网)  </li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">salt –S 192.168.0.42 test.ping  </span><br><span class="line">salt –s 192.168.0.0/16 test.ping</span><br></pre></td></tr></table></figure><ul><li>Grains(salt可以通过操作系统、CPU架构及自定义信息等机器特征进行target Minion)</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">salt –G ‘os:Ubuntu’ test.ping  </span><br><span class="line">Salt –G ‘os_family:Debian’ test.ping</span><br></pre></td></tr></table></figure><ul><li>pillar（salt支持通过pillar数据进行匹配）</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Salt –I ‘my_val:my_val’ test.ping</span><br></pre></td></tr></table></figure><ul><li>混合（compound)</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Salt –C ‘web* or G@os:Arch’ test.ping</span><br></pre></td></tr></table></figure><ul><li>节点组（Nodegroup）  节点组需要事先定义，配置方法如下：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/salt/master  nodegroups:  node: &apos;L@node1,node2&apos;  </span><br><span class="line">salt -N node test.ping</span><br></pre></td></tr></table></figure><h2 id="SaltStack常用模块"><a href="#SaltStack常用模块" class="headerlink" title="SaltStack常用模块"></a>SaltStack常用模块</h2><ul><li style="list-style: none"><input type="checkbox" checked> test模块（测试功能）</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">salt &quot;*&quot; test.ping</span><br></pre></td></tr></table></figure><ul><li style="list-style: none"><input type="checkbox" checked> status模块（查看系统信息）</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">salt &quot;*&quot; status.diskstats     #查看磁盘信息  </span><br><span class="line">salt &quot;*&quot; status.meminfo       #查看内存信息  </span><br><span class="line">salt &quot;*&quot; status.w             #w命令返回信息</span><br></pre></td></tr></table></figure><ul><li style="list-style: none"><input type="checkbox" checked> cmd.run模块（运行系统命令）</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">salt &quot;*&quot; cmd.run &quot;cat /etc/my.cnf&quot;</span><br></pre></td></tr></table></figure><ul><li style="list-style: none"><input type="checkbox" checked> 查看所有module列表</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">salt &quot;*&quot; sys.list_modules</span><br></pre></td></tr></table></figure><ul><li style="list-style: none"><input type="checkbox" checked> 查看指定module的所有function方法</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">salt &quot;*&quot; sys.list_functions cmd.run</span><br></pre></td></tr></table></figure><ul><li style="list-style: none"><input type="checkbox" checked> 查看指定module用法</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">salt &quot;*&quot; sys.doc cmd.run</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;SaltStack简介&quot;&gt;&lt;a href=&quot;#SaltStack简介&quot; class=&quot;headerlink&quot; title=&quot;SaltStack简介&quot;&gt;&lt;/a&gt;SaltStack简介&lt;/h2&gt;&lt;p&gt;SaltStack 是一种基于 C/S 架构的服务器基础架构集中化管
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>LNMP平台一键部署</title>
    <link href="http://yoursite.com/2017/12/24/LNMP-OneKey/"/>
    <id>http://yoursite.com/2017/12/24/LNMP-OneKey/</id>
    <published>2017-12-24T13:58:18.000Z</published>
    <updated>2017-12-25T08:57:02.766Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a><strong>一、介绍</strong></h2><p>LNMP一键安装包是一个用Linux Shell编写的可以为CentOS/RHEL/Fedora/Aliyun/Amazon、Debian/Ubuntu/Raspbian/DeepinServer/Mint Linux VPS或独立主机安装LNMP(Nginx/MySQL/PHP)、LNMPA(Nginx/MySQL/PHP/Apache)、LAMP(Apache/MySQL/PHP)生产环境的Shell程序。</p><p>官方网站：<a href="https://lnmp.org" target="_blank" rel="noopener">https://lnmp.org</a></p><p>下载地址：</p><table><thead><tr><th style="text-align:center">项目</th><th style="text-align:center">版本</th><th style="text-align:center">MD5</th><th style="text-align:center">大小</th></tr></thead><tbody><tr><td style="text-align:center">下载版</td><td style="text-align:center"><a href="http://soft.vpser.net/lnmp/lnmp1.4.tar.gz" target="_blank" rel="noopener">http://soft.vpser.net/lnmp/lnmp1.4.tar.gz</a></td><td style="text-align:center">06df74d7a2f9bf64fc9a108ad429f1fb</td><td style="text-align:center">134KB</td></tr><tr><td style="text-align:center">完整版</td><td style="text-align:center"><a href="http://soft.vpser.net/lnmp/lnmp1.4-full.tar.gz" target="_blank" rel="noopener">http://soft.vpser.net/lnmp/lnmp1.4-full.tar.gz</a></td><td style="text-align:center">404dea1dc3e61333790486f197f3b7e5</td><td style="text-align:center">467MB</td></tr></tbody></table><h3 id="注意："><a href="#注意：" class="headerlink" title="注意："></a><strong>注意：</strong></h3><blockquote><ul><li>下载完建议先验证MD5</li><li>使用前建议先去官网了解安装过程–&gt; <a href="https://lnmp.org/install.html" target="_blank" rel="noopener">传送门</a></li><li>下载的脚本文件不要放在临时目录（如 /tmp），不要删除脚本文件</li><li>确保机器可以上网，YUM仓库可用</li></ul></blockquote><h2 id="二、安装"><a href="#二、安装" class="headerlink" title="二、安装"></a><strong>二、安装</strong></h2><table><thead><tr><th>项目　　　</th><th>版本</th></tr></thead><tbody><tr><td>Linux</td><td>CentOS release 6.8 (Final)</td></tr><tr><td>Nginx</td><td>1.12.2</td></tr><tr><td>Php-fpm</td><td>5.6.31</td></tr><tr><td>Mysql</td><td>5.7.18</td></tr></tbody></table><ul><li>下载安装脚本:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://soft.vpser.net/lnmp/lnmp1.4-full.tar.gz -o /data/lnmp1.4-full.tar.gz</span><br></pre></td></tr></table></figure><ul><li>解压文件：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /data</span><br><span class="line">tar -xvf lnmp1.4-full.tar.gz</span><br><span class="line">cd lnmp1.4-full</span><br></pre></td></tr></table></figure><ul><li>安装前修改自定义设置：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@Node1 lnmp1.4-full]# cat lnmp.conf </span><br><span class="line"></span><br><span class="line">Download_Mirror=&apos;https://soft.vpser.net&apos;</span><br><span class="line"></span><br><span class="line">#自定义安装Nginx模块（默认：configure arguments: --user=www --group=www --prefix=/usr/local/nginx --with-http_stub_status_module --with-http_ssl_module --with-http_v2_module --with-http_gzip_static_module --with-ipv6 --with-http_sub_module --with-openssl=/data/lnmp1.4-full/src/openssl-1.0.2l）</span><br><span class="line">Nginx_Modules_Options=&apos;&apos;</span><br><span class="line"></span><br><span class="line">#自定义安装Php-fpm模块(默认：&apos;./configure&apos; &apos;--prefix=/usr/local/php&apos; &apos;--with-config-file-path=/usr/local/php/etc&apos; &apos;--with-config-file-scan-dir=/usr/local/php/conf.d&apos; &apos;--enable-fpm&apos; &apos;--with-fpm-user=www&apos; &apos;--with-fpm-group=www&apos; &apos;--with-mysql=mysqlnd&apos; &apos;--with-mysqli=mysqlnd&apos; &apos;--with-pdo-mysql=mysqlnd&apos; &apos;--with-iconv-dir&apos; &apos;--with-freetype-dir=/usr/local/freetype&apos; &apos;--with-jpeg-dir&apos; &apos;--with-png-dir&apos; &apos;--with-zlib&apos; &apos;--with-libxml-dir=/usr&apos; &apos;--enable-xml&apos; &apos;--disable-rpath&apos; &apos;--enable-bcmath&apos; &apos;--enable-shmop&apos; &apos;--enable-sysvsem&apos; &apos;--enable-inline-optimization&apos; &apos;--with-curl&apos; &apos;--enable-mbregex&apos; &apos;--enable-mbstring&apos; &apos;--with-mcrypt&apos; &apos;--enable-ftp&apos; &apos;--with-gd&apos; &apos;--enable-gd-native-ttf&apos; &apos;--with-openssl&apos; &apos;--with-mhash&apos; &apos;--enable-pcntl&apos; &apos;--enable-sockets&apos; &apos;--with-xmlrpc&apos; &apos;--enable-zip&apos; &apos;--enable-soap&apos; &apos;--with-gettext&apos; &apos;--disable-fileinfo&apos; &apos;--enable-opcache&apos; &apos;--enable-intl&apos; &apos;--with-xsl&apos;)</span><br><span class="line">PHP_Modules_Options=&apos;&apos;</span><br><span class="line"></span><br><span class="line">##MySQL/MariaDB database directory##定义数据库数据目录</span><br><span class="line">MySQL_Data_Dir=&apos;/usr/local/mysql/var&apos;</span><br><span class="line">MariaDB_Data_Dir=&apos;/usr/local/mariadb/var&apos;</span><br><span class="line"></span><br><span class="line">##Default website home directory##Nginx代码目录</span><br><span class="line">Default_Website_Dir=&apos;/home/wwwroot/default&apos;</span><br><span class="line"></span><br><span class="line">##是否安装Nginx Openssl模块</span><br><span class="line">Enable_Nginx_Openssl=&apos;y&apos;</span><br></pre></td></tr></table></figure><ul><li>安装：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./install.sh</span><br></pre></td></tr></table></figure><ul><li>安装选择：</li></ul><p><img src="https://raw.githubusercontent.com/xujingrui/xujingrui.github.io/master/home/images/onekey-all.jpg" alt="one-key-all"></p><ul><li>安装完成：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">============================== Check install ==============================</span><br><span class="line">Checking ...</span><br><span class="line">Nginx: OK</span><br><span class="line">MySQL: OK</span><br><span class="line">PHP: OK</span><br><span class="line">PHP-FPM: OK</span><br><span class="line">Clean src directory...</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|          LNMP V1.4 for CentOS Linux Server, Written by Licess          |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|           For more information please visit https://lnmp.org           |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|    lnmp status manage: lnmp &#123;start|stop|reload|restart|kill|status&#125;    |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|  phpMyAdmin: http://IP/phpmyadmin/                                     |</span><br><span class="line">|  phpinfo: http://IP/phpinfo.php                                        |</span><br><span class="line">|  Prober:  http://IP/p.php                                              |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|  Add VirtualHost: lnmp vhost add                                       |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|  Default directory: /app/www                              |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|  MySQL/MariaDB root password: abc123                          |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">+-------------------------------------------+</span><br><span class="line">|    Manager for LNMP, Written by Licess    |</span><br><span class="line">+-------------------------------------------+</span><br><span class="line">|              https://lnmp.org             |</span><br><span class="line">+-------------------------------------------+</span><br><span class="line">nginx (pid 108192 108191 108190 108189 108188) is running...</span><br><span class="line">php-fpm is runing!</span><br><span class="line"> SUCCESS! MySQL running (108721)</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address               Foreign Address             State      </span><br><span class="line">tcp        0      0 0.0.0.0:60259               0.0.0.0:*                   LISTEN      </span><br><span class="line">tcp        0      0 0.0.0.0:111                 0.0.0.0:*                   LISTEN      </span><br><span class="line">tcp        0      0 0.0.0.0:80                  0.0.0.0:*                   LISTEN      </span><br><span class="line">tcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN      </span><br><span class="line">tcp        0      0 127.0.0.1:631               0.0.0.0:*                   LISTEN      </span><br><span class="line">tcp        0      0 :::37347                    :::*                        LISTEN      </span><br><span class="line">tcp        0      0 :::3306                     :::*                        LISTEN      </span><br><span class="line">tcp        0      0 :::111                      :::*                        LISTEN      </span><br><span class="line">tcp        0      0 :::22                       :::*                        LISTEN      </span><br><span class="line">tcp        0      0 ::1:631                     :::*                        LISTEN      </span><br><span class="line">Install lnmp takes 65 minutes.</span><br><span class="line">Install lnmp V1.4 completed! enjoy it.</span><br><span class="line"></span><br><span class="line">[root@Node1 lnmp1.4-full]#</span><br></pre></td></tr></table></figure><p>安装过程日志==&gt; <code>/root/lnmp-install.log</code></p><table><thead><tr><th>项目</th><th>目录</th><th>备注</th></tr></thead><tbody><tr><td>Nginx</td><td>/usr/local/nginx</td><td>程序安装</td></tr><tr><td>　</td><td>/etc/init.d/nginx</td><td>启动脚本</td></tr><tr><td>　</td><td>/usr/local/nginx/conf</td><td>配置文件</td></tr><tr><td>　</td><td>/home/wwwroot/default　</td><td>代码路径</td></tr><tr><td>　</td><td>/home/wwwlogs</td><td>日志路径</td></tr><tr><td>Php-Fpm　</td><td>/usr/local/php</td><td>程序安装</td></tr><tr><td>　</td><td>/etc/init.d/php-fpm</td><td>启动脚本</td></tr><tr><td>　</td><td>/usr/local/php/etc</td><td>配置文件</td></tr><tr><td>　</td><td>/usr/local/php/var/log</td><td>日志路径</td></tr><tr><td>　</td><td>/tmp/php-cgi.sock</td><td>SOCK路径</td></tr><tr><td>Mysql</td><td>/usr/local/mysql</td><td>程序安装</td></tr><tr><td>　</td><td>/etc/init.d/mysql</td><td>启动脚本</td></tr><tr><td>　</td><td>/etc/my.cnf</td><td>配置文件</td></tr><tr><td>　</td><td>/usr/local/mysql/var</td><td>数据目录</td></tr><tr><td>　</td><td>/tmp/mysql.sock</td><td>SOCK路径</td></tr></tbody></table><h3 id="建议："><a href="#建议：" class="headerlink" title="建议："></a><strong>建议：</strong></h3><p>将<code>/home/wwwroot/default</code>路径下的文件都删除！</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── index.html</span><br><span class="line">├── lnmp.gif</span><br><span class="line">├── ocp.php</span><br><span class="line">├── phpinfo.php</span><br><span class="line">├── phpmyadmin</span><br></pre></td></tr></table></figure><h3 id="注意：-1"><a href="#注意：-1" class="headerlink" title="注意："></a><strong>注意：</strong></h3><p>LNMP一键安装会将crond服务重新安装，安装后没有启动服务,需要手动启动一次<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@Node1 /]# chkconfig |grep crond</span><br><span class="line">crond          0:关闭1:关闭2:启用3:启用4:启用5:启用6:关闭</span><br><span class="line">[root@Node1 /]# /etc/init.d/crond status</span><br><span class="line">crond 已停</span><br><span class="line">[root@Node1 /]# /etc/init.d/crond start</span><br><span class="line">正在启动 crond：                                           [确定]</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;一、介绍&quot;&gt;&lt;a href=&quot;#一、介绍&quot; class=&quot;headerlink&quot; title=&quot;一、介绍&quot;&gt;&lt;/a&gt;&lt;strong&gt;一、介绍&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;LNMP一键安装包是一个用Linux Shell编写的可以为CentOS/RHEL/Fed
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>MarkDown外链图片:在GitHup上image展示</title>
    <link href="http://yoursite.com/2017/12/23/image/"/>
    <id>http://yoursite.com/2017/12/23/image/</id>
    <published>2017-12-23T12:38:30.000Z</published>
    <updated>2017-12-23T14:03:29.657Z</updated>
    
    <content type="html"><![CDATA[<h3 id="方式一："><a href="#方式一：" class="headerlink" title="方式一："></a>方式一：</h3><h6 id="GitHup上点击图片文件后的Url，可以正常访问。"><a href="#GitHup上点击图片文件后的Url，可以正常访问。" class="headerlink" title="GitHup上点击图片文件后的Url，可以正常访问。"></a>GitHup上点击图片文件后的Url，可以正常访问。</h6><ul><li><a href="https://github.com/xujingrui/xujingrui.github.io/blob/master/home/images/31a58PIC6NY_1024.jpg?raw=true" target="_blank" rel="noopener">https://github.com/xujingrui/xujingrui.github.io/blob/master/home/images/31a58PIC6NY_1024.jpg?raw=true</a><br><img src="https://github.com/xujingrui/xujingrui.github.io/blob/master/home/images/31a58PIC6NY_1024.jpg?raw=true" alt="abc"></li></ul><h3 id="方式二："><a href="#方式二：" class="headerlink" title="方式二："></a>方式二：</h3><h6 id="GitHup上点击图片文件后的Url，在浏览器开打URL链接，Url发生改变，但是可以正常访问。"><a href="#GitHup上点击图片文件后的Url，在浏览器开打URL链接，Url发生改变，但是可以正常访问。" class="headerlink" title="GitHup上点击图片文件后的Url，在浏览器开打URL链接，Url发生改变，但是可以正常访问。"></a>GitHup上点击图片文件后的Url，在浏览器开打URL链接，Url发生改变，但是可以正常访问。</h6><ul><li><a href="https://raw.githubusercontent.com/xujingrui/xujingrui.github.io/master/home/images/31a58PIC6NY_1024.jpg" target="_blank" rel="noopener">https://raw.githubusercontent.com/xujingrui/xujingrui.github.io/master/home/images/31a58PIC6NY_1024.jpg</a><br><img src="https://raw.githubusercontent.com/xujingrui/xujingrui.github.io/master/home/images/31a58PIC6NY_1024.jpg" alt="bbb"></li></ul><h3 id="方式三："><a href="#方式三：" class="headerlink" title="方式三："></a>方式三：</h3><h6 id="GitHup上图片Url，无法访问。"><a href="#GitHup上图片Url，无法访问。" class="headerlink" title="GitHup上图片Url，无法访问。"></a>GitHup上图片Url，无法访问。</h6><ul><li><a href="https://github.com/xujingrui/xujingrui.github.io/blob/master/home/images/31a58PIC6NY_1024.jpg" target="_blank" rel="noopener">https://github.com/xujingrui/xujingrui.github.io/blob/master/home/images/31a58PIC6NY_1024.jpg</a><br><img src="https://github.com/xujingrui/xujingrui.github.io/blob/master/home/images/31a58PIC6NY_1024.jpg" alt="ccc"></li></ul><p><strong>图片外链可以参考Url的方法</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/xujingrui/xujingrui.github.io/blob/master/home/images/图片名称?raw=true</span><br></pre></td></tr></table></figure><p>或<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://raw.githubusercontent.com/xujingrui/xujingrui.github.io/master/home/images/图片名称</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;方式一：&quot;&gt;&lt;a href=&quot;#方式一：&quot; class=&quot;headerlink&quot; title=&quot;方式一：&quot;&gt;&lt;/a&gt;方式一：&lt;/h3&gt;&lt;h6 id=&quot;GitHup上点击图片文件后的Url，可以正常访问。&quot;&gt;&lt;a href=&quot;#GitHup上点击图片文件后的Url，
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yoursite.com/2017/12/22/hello-world/"/>
    <id>http://yoursite.com/2017/12/22/hello-world/</id>
    <published>2017-12-22T16:30:10.178Z</published>
    <updated>2017-12-22T16:30:10.178Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
  </entry>
  
</feed>
